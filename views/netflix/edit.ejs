<%- include('../partials/header.ejs') %>

    <div class="editRoutePage sansSerif">
        <div class="editHeader">
            <h1>Edit <%= Netflix.name %></h1>
        </div>
        <form class="editForm" action="/netflix/<%= Netflix._id %>?_method=PUT" method="POST">
            <label for="name">Name</label>
            <input required type="text" name="name" id="name" value="<%= Netflix.name %>">
            <label for="synopsis">Synopsis</label>
            <input required type="text" name="synopsis" id="synopsis" value="<%= Netflix.synopsis %>">
            <label for="img">Image</label>
            <input required type="text" name="img" id="img" value="<%= Netflix.img %>">
            <label for="genre">Genre</label>
            <input required type="text" name="genre" id="genre" value="<%= Netflix.genre %>">
            <div class="seasonsEditForm">
                <% for (let i=0; i < Netflix.seasons.length; i++) { %>
                    <p>Season <%= Netflix.seasons[i].name %></p>
                    <div class="seasonsInputForm">
                        <input type="hidden" name="seasons" value="<%= Netflix.seasons[i].name %>">
                        <label for="year">Year</label>
                        <input required type="number" name="year-<%= i %>" id="year"
                            value="<%= Netflix.seasons[i].year %>">
                        <% for (let j=0; j < Netflix.seasons[i].episodes.length; j++) { %>
                            <label for="episodes">Episode</label>
                            <input required type="text" name="episodes-<%= i %>" id="episodes" value="<%= Netflix.seasons[i].episodes[j] %>">
                        <% } %>
                    </div>
                <% } %>
            <input type="submit" value="Edit TV Show">
            </div>
        </form>
    </div>
    <a href="/netflix">Back</a>

<%- include('../partials/footer.ejs') %>